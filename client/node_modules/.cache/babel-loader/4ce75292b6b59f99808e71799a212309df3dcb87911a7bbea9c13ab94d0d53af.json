{"ast":null,"code":"\n// import React from \"react\";\n// import { useState, useContext } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from \"react-router-dom\";\n// import { AuthContext } from \"../helpers/AuthContext\";\n\n// function Login() {\n//   const [mobileNumber, setMobileNumber] = useState(\"\");\n//   const [OTP, setOTP] = useState(\"\");\n//   const [generatedOTP, setGeneratedOTP] = useState(\"\");\n//   const [isOtpCorrect, setIsOtpCorrect] = useState(true);\n\n//   const { setAuthState } = useContext(AuthContext);\n\n//   let navigate = useNavigate();\n\n//   const generateOTP = () => {\n//     if (!mobileNumber) {\n//       alert(\"Please enter a mobile number\");\n//       return;\n//     }\n//     axios\n//       .post(\"http://localhost:3001/generateotp\", {\n//         mobile: mobileNumber,\n//       })\n//       .then((response) => {\n//         console.log(response);\n//         if (response.data.message) {\n//           alert(response.data.message);\n//         } else {\n//           setGeneratedOTP(response.data.otp);\n//           alert(`OTP: ${response.data.otp}`);\n//         }\n//       });\n//   };\n\n//   const login = () => {\n//     if (!mobileNumber) {\n//       alert(\"Please enter a mobile number\");\n//       return;\n//     }\n//     if (!OTP) {\n//       alert(\"Please enter the OTP\");\n//       return;\n//     }\n//     if (OTP === generatedOTP) {\n//       axios\n//         .post(\"http://localhost:3001/login\", {\n//           mobile: mobileNumber,\n//         })\n//         .then((response) => {\n//           console.log(response);\n//           if (response.data.message) {\n//             alert(response.data.message);\n//           } else {\n//             localStorage.setItem(\"accessToken\", response.data.token);\n//             setAuthState({\n//               username: response.data.username,\n//               id: response.data.id,\n//               status: true,\n//             });\n\n//             navigate(`/profile/${response.data.id}`);\n//           }\n//         });\n//     } else {\n//       alert(\"Incorrect OTP!\");\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <h1>Login</h1>\n//       {/* Mobile Number */}\n//       <label>Mobile Number: </label>\n//       <input\n//         type=\"tel\"\n//         onChange={(event) => {\n//           setMobileNumber(event.target.value);\n//         }}\n//       />\n//       <button onClick={generateOTP}>Generate OTP</button>\n//       <label>OTP: </label>\n//       <input\n//         type=\"number\"\n//         onChange={(event) => {\n//           setOTP(event.target.value);\n//         }}\n//       />\n//       <button onClick={login}>Login</button>\n//     </div>\n//   );\n// }\n\n// export default Login;","map":{"version":3,"names":[],"sources":["E:/web_development/Login system/client/src/pages/Login.js"],"sourcesContent":["\r\n// import React from \"react\";\r\n// import { useState, useContext } from \"react\";\r\n// import axios from \"axios\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import { AuthContext } from \"../helpers/AuthContext\";\r\n\r\n// function Login() {\r\n//   const [mobileNumber, setMobileNumber] = useState(\"\");\r\n//   const [OTP, setOTP] = useState(\"\");\r\n//   const [generatedOTP, setGeneratedOTP] = useState(\"\");\r\n//   const [isOtpCorrect, setIsOtpCorrect] = useState(true);\r\n\r\n//   const { setAuthState } = useContext(AuthContext);\r\n\r\n//   let navigate = useNavigate();\r\n\r\n//   const generateOTP = () => {\r\n//     if (!mobileNumber) {\r\n//       alert(\"Please enter a mobile number\");\r\n//       return;\r\n//     }\r\n//     axios\r\n//       .post(\"http://localhost:3001/generateotp\", {\r\n//         mobile: mobileNumber,\r\n//       })\r\n//       .then((response) => {\r\n//         console.log(response);\r\n//         if (response.data.message) {\r\n//           alert(response.data.message);\r\n//         } else {\r\n//           setGeneratedOTP(response.data.otp);\r\n//           alert(`OTP: ${response.data.otp}`);\r\n//         }\r\n//       });\r\n//   };\r\n\r\n//   const login = () => {\r\n//     if (!mobileNumber) {\r\n//       alert(\"Please enter a mobile number\");\r\n//       return;\r\n//     }\r\n//     if (!OTP) {\r\n//       alert(\"Please enter the OTP\");\r\n//       return;\r\n//     }\r\n//     if (OTP === generatedOTP) {\r\n//       axios\r\n//         .post(\"http://localhost:3001/login\", {\r\n//           mobile: mobileNumber,\r\n//         })\r\n//         .then((response) => {\r\n//           console.log(response);\r\n//           if (response.data.message) {\r\n//             alert(response.data.message);\r\n//           } else {\r\n//             localStorage.setItem(\"accessToken\", response.data.token);\r\n//             setAuthState({\r\n//               username: response.data.username,\r\n//               id: response.data.id,\r\n//               status: true,\r\n//             });\r\n\r\n//             navigate(`/profile/${response.data.id}`);\r\n//           }\r\n//         });\r\n//     } else {\r\n//       alert(\"Incorrect OTP!\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h1>Login</h1>\r\n//       {/* Mobile Number */}\r\n//       <label>Mobile Number: </label>\r\n//       <input\r\n//         type=\"tel\"\r\n//         onChange={(event) => {\r\n//           setMobileNumber(event.target.value);\r\n//         }}\r\n//       />\r\n//       <button onClick={generateOTP}>Generate OTP</button>\r\n//       <label>OTP: </label>\r\n//       <input\r\n//         type=\"number\"\r\n//         onChange={(event) => {\r\n//           setOTP(event.target.value);\r\n//         }}\r\n//       />\r\n//       <button onClick={login}>Login</button>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Login;\r\n"],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}